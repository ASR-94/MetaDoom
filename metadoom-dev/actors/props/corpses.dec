/*
----------------------------
MetaDoom
Actor Definitions
Corpse Props
----------------------------
*/

// Currently identical to the base game, but with some blood decals sprayed around them
// and a random chance of sprite flipping. May expand upon in future (tiny chance of flies, etc.)

ACTOR MetaDeadCacodemon //replaces DeadCacodemon
{
	States
	{
	Spawn:
		HEAD L 0
		HEAD L 0
		{
			A_SpawnItemEx("BloodSplatBlue_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatBlue_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatBlue_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmallBlue_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmallBlue_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmallBlue_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmallBlue_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmallBlue_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmallBlue_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
		}
		HEAD L 0 A_Jump(128,2)
		HEAD L 0 A_ChangeFlag("SPRITEFLIP", TRUE) 
	End:
		HEAD L -1
		Stop
	}
}

ACTOR MetaDeadPinky //replaces DeadDemon
{
	States
	{
	Spawn:
		SARG N 0
		SARG N 0
		{
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
		}
		SARG N 0 A_Jump(128,2)
		SARG N 0 A_ChangeFlag("SPRITEFLIP", TRUE) 
	End:
		SARG N -1
		Stop
	}
}

ACTOR MetaDeadDoomImp //replaces DeadDoomImp
{
	States
	{
	Spawn:
		TROO M 0
		TROO M 0
		{
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
		}
		TROO M 0 A_Jump(128,2)
		TROO M 0 A_ChangeFlag("SPRITEFLIP", TRUE) 
	End:
		TROO M -1
		Stop
	}
}

ACTOR MetaDeadMarine //replaces DeadMarine
{
	States
	{
	Spawn:
		PLAY N 0
		PLAY N 0
		{
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
		}
		PLAY N 0 A_Jump(128,2)
		PLAY N 0 A_ChangeFlag("SPRITEFLIP", TRUE) 
		PLAY N 0 
	End:
		PLAY N 0 A_Jump(128,"Slop2", "Slop3", "Slop4")
		goto Slop1
	Slop1:
		PLAY N -1
		Stop
	Slop2:
		DEDP A -1 A_SetScale(0.7,0.6)
		Stop
	Slop3:
		DEDP B -1 A_SetScale(0.8,0.8)
		Stop
	Slop4:
		DEDP C -1 A_SetScale(0.8,0.8)
		Stop
	}
}

ACTOR MetaDeadShotgunGuy //replaces DeadShotgunGuy
{
	States
	{
	Spawn:
		SPOS L 0
		SPOS L 0
		{
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
		}
		SPOS L 0 A_Jump(128,2)
		SPOS L 0 A_ChangeFlag("SPRITEFLIP", TRUE) 
	End:
		SPOS L -1
		Stop
	}
}

ACTOR MetaDeadZombieMan //replaces DeadZombieMan
{
	States
	{
	Spawn:
		POSS L 0
		POSS L 0
		{
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
		}
		POSS L 0 A_Jump(128,2)
		POSS L 0 A_ChangeFlag("SPRITEFLIP", TRUE) 
	End:
		POSS L -1
		Stop
	}
}

ACTOR MetaGibbedMarine // replaces GibbedMarine
{
	States
	{
	Spawn:
		PLAY W 0
		PLAY W 0
		{
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplat_Permanent",random(-8,8),random(-8,8),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-32,32),random(-32,32),0,0,0,0,random(0,360));
			
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
			A_SpawnItemEx("BloodSplatSmall_Permanent",random(-64,64),random(-64,64),0,0,0,0,random(0,360));
		}
		PLAY W 0 A_Jump(128,"End")
		PLAY W 0 A_ChangeFlag("SPRITEFLIP", TRUE) 
	End:
		PLAY W 0 A_Jump(128,"Slop2", "Slop3", "Slop4")
		goto Slop1
	Slop1:
		PLAY W -1
		Stop
	Slop2:
		SLOP A -1
		Stop
	Slop3:
		SLOP B -1
		Stop
	Slop4:
		SLOP C -1
		Stop
	}
}

//ACTOR MetaGibbedMarineExtra : MetaGibbedMarine replaces GibbedMarineExtra {}